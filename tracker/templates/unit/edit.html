<!DOCTYPE html>
<html lang="en">
    <head>
    </head>
    {% extends '../layout.html' %}
    {% block content %}
    <div class="starter-template-fluid">
          <script src="{{ static_url('jquery.min.js') }}"></script>
          <center><h3>Unit: {{ escape(url) }}</h3></center>
          <center><p class="lead">Edit your keywords</p><br></center>
    </div><br>

      <form action="/api/v1/users/{{ handler.session['username'] }}/projects/{{ handler.session['current_project'] }}/website-edit" method="post">
        <div class="form-group">
          <label for="inputName" id="inputName">Name</label>
          <input type="text" class="form-control" name="inputName" aria-describedby="inputNameHelp" value="{{ line['Name'] }}">
          <small class="form-text text-muted">Name that describes your continuous tracking target.</small>
        </div>
        {% if 'is_simplified' in handler.session and handler.session['is_simplified'] is False %}
        <div class="form-group">
          <label for="inputWebsite" id="inputWebsite">Website</label>
          <input type="text" class="form-control" name="inputWebsite" value="{{ line['Website'] }}" readonly>
          <small class="form-text text-muted">If you want to change the website, you better add website directly rather than modifying existing one.</small>
        </div>
	      {% else %}
          <input type="hidden" class="form-control" name="inputWebsite" value="{{ line['Website'] }}" readonly>
        {% end %}
        <div class="form-group">
          <label for="inputTarget" id="inputTarget">Target</label>
          <input type="text" class="form-control" name="inputTarget" aria-describedby="inputTargetHelp" value="{{ line['target'] }}">
          <small class="form-text text-muted">Target strictly defines the page you are tracking.</small>
        </div>

          <div id="bagOfWordsContainer">
            <label for="inputKeywords" id="inputTarget">Keywords</label>
            <ul id="inputKeywords">
                {% for label in line['target_label'] %}
                <li>{{ label }}</li>
                {% end %}
            </ul>
          </div>

          <div id="bagOfMailsContainer">
            <label for="inputMailingList" id="inputTarget">Mailing list</label>
            <ul id="inputMailingList">
                {% for label in line['mailing_list'] %}
                <li>{{ label }}</li>
                {% end %}
            </ul>
          </div>

        <button type="submit" class="btn btn-info">Update Changes</button>
        <a href="/api/v1/users/{{ handler.session['username'] }}/projects/{{ handler.session['current_project'] }}/websites-manage" class="btn btn-danger">Cancel</a>
      </form>
      <br>
{% end %}
</html>
{% block script %}
<script src="{{ static_url('jquery.min.js') }}" type="text/javascript" charset="utf-8"></script>
<script src="{{ static_url('jquery-ui.min.js') }}" type="text/javascript" charset="utf-8"></script>
<script src="{{ static_url('custom/tagit/tag-it.js') }}" type="text/javascript" charset="utf-8"></script>
<!-- <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/flick/jquery-ui.css"> -->
<link href="{{ static_url('custom/tagit/jquery.tagit.css') }}" type="text/css" rel="stylesheet">
<link href="{{ static_url('custom/tagit/tagit.ui-zendesk.css') }}" type="text/css" rel="stylesheet">
<script>
  $(document).ready(function() {
    $("#inputKeywords").tagit({
    fieldName: "inputKeywords"
    //caseSensitive: false
    //tagLimit
    });
    $("#inputMailingList").tagit({
    fieldName: "inputMailingList"
    //caseSensitive: false
    //tagLimit
    });
  });
</script>
{% end %}
